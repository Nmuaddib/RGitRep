"0","#### Transformações sobre dados da ""CAI"" com uma função -----"
"0","f.tab_cor <-  function(caidf,mtd) {"
"0","  corP <- caidf %>%  "
"0","    group_by(amq) %>% "
"0","    summarise(consulta = sum(consulta, na.rm = TRUE), "
"0","              domiciliar = sum(domiciliar, na.rm = TRUE), "
"0","              emergencia = sum(emergencia, na.rm = TRUE), "
"0","              honorario = sum(honorario, na.rm = TRUE), "
"0","              material = sum(material, na.rm = TRUE), "
"0","              medicamento = sum(medicamento, na.rm = TRUE), "
"0","              nulo = sum(nulo, na.rm = TRUE), "
"0","              pacote = sum(pacote, na.rm = TRUE), "
"0","              remocao = sum(remocao, na.rm = TRUE), "
"0","              sadt = sum(sadt, na.rm = TRUE), "
"0","              taxa = sum(taxa, na.rm = TRUE)) %>% "
"0","    as.data.frame(.) %>%"
"0","    select(-amq) %>% "
"0","    as.tibble() %>% "
"0","    cor(., method = mtd)"
"0","}"
"0","#### Filtragem e calculo com função criada acima ------------"
"0","caiC.corP <- cai %>%"
"0","  arrange(amq, internacao) %>% "
"0","  f.tab_cor(.,'pearson');as.tibble(caiC.corP)"
